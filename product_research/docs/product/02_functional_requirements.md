<!-- Обновлено: 15 ноября 2025 | Автор: Анна Р. -->
# Функциональные требования: Голосовой тренажёр для банковских менеджеров

## Цель проекта

Сократить срок подготовки новичков в продажах с двух недель до одной за счёт внедрения ИИ-агента, который проводит реалистичные голосовые тренировки и даёт развернутую обратную связь вместе с оценкой. ИИ-агент не заменяет тренера, а усиливает его: тренер получает аналитику и работает со стратегией, а не тратит время на рутинные повторные тренировки.

## Пользовательские сценарии

### Менеджер
Менеджер заходит в личный кабинет, выбирает уровень сложности (от 1 до 4) и архетип клиента (например, «Новичок», «Скептик», «Агрессивный» или «Жалобщик»), после чего начинает тренировочный звонок с ИИ-клиентом.

### Тренер
Тренер видит единый дашборд по всем менеджерам: кто сколько прошёл тренировок, средний балл, сильные и слабые зоны. Возможность сравнивать результаты: например, у одного менеджера отлично получается работа с возражениями, но слабая презентация.

## Ключевые функции (MVP, приоритет P0)

### Голосовой тренажёр
- Реалистичное поведение ИИ-клиента: можно задавать настроение (лояльный / скептик / агрессивный), тип возражений, температуру ответов.
- Поддержка разных сценариев продаж (например, «кредитная карта», «РКО», «жалоба на страховку»).
- Возможность задавать обязательные фразы (например, «Полная стоимость кредита — от...») — они должны звучать в диалоге.
- Запрет на определённые действия (например, «не называй цену до презентации»).

### Обратная связь после тренировки
- Оценка по ключевым метрикам: работа с возражениями, презентация, установление контакта, открытые вопросы, соблюдение compliance.
- Общая оценка + конкретные рекомендации.

### Аналитика по сотрудникам
- Дашборд: количество пройденных тренировок, средний балл, слабые/сильные зоны.
- Возможность сравнить результаты между сотрудниками.

## Технологический стек
- LLM для диалога: тестируется Qwen (7B, 4B локально, поддержка русского).
- ASR (распознавание речи): Whisper (открытый, русский работает).
- TTS (синтез речи): решение утверждено внутри команды.
- База данных: PostgreSQL — проще развернуть, достаточно для нагрузки MVP.
- Весь код, сценарии, датасеты и документация хранятся в едином репозитории на GitHub.

## Процесс работы
- Менеджер сам выбирает сценарий и уровень сложности — это повышает автономность и мотивацию.
- Тренер не назначает тренировки вручную, но видит всю аналитику и может вмешаться при системных пробелах.
- Во время звонка система использует стриминговую модель для поддержания диалога (пока остановились на пакетной обработке).
- Сразу после завершения запускается отдельная оценочная модель, которая анализирует всю транскрипцию и выдаёт структурированную обратную связь.

## Критерии оценки
Оценочная модель работает на основе жёстко заданных правил:
- Какие фразы обязательны (compliance: ПСК, добровольность страховки, риски).
- Какие фразы запрещены («гарантируем одобрение», «без процентов»).
- Сколько открытых вопросов задано (минимум 2).
- Как обработано возражение (должно быть признание эмоции + рефрейминг).
- Соблюдён ли тон и этикет (вежливость, паузы, благодарность в конце).

Эти критерии формализованы в виде JSON-схемы и встроены в промпт для LLM, чтобы обеспечить сопоставимость результатов между разными тренировками и сотрудниками.

## Этапы развития
- **Этап 1**: Внедрение ИИ-тренажёра для ускоренной подготовки новичков.
- **Этап 2 (будущее)**: Использование той же речевой аналитики для автоматического контроля качества реальных звонков (анализ всех 6 000 звонков в месяц, выделение проблемных кейсов).

## Открытые вопросы (решено)
- ASR: начать с блочной обработки (не стриминг) для упрощения MVP.
- Сценарий выбирает сам менеджер.
- Критерии оценки формализуются в JSON-схеме с привязкой к фактам из базы знаний.

## Преимущества перед конкурентами
- Реалистичный ИИ-клиент (гибкий, с эмоциями).
- Обратная связь с проверкой фактов (с compliance).
- Аналитика по сотрудникам и сравнение — уникальная фича для тренеров.
- Редактор сценариев без кода — будет в P1.